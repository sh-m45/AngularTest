import { Component, OnInit } from '@angular/core';
import { ProductsService } from '../products.service';
import { Router, ActivatedRoute } from '@angular/router';
@Component({
  selector: 'app-products',
  templateUrl: './products.component.html',
  styleUrls: ['./products.component.css']
})
export class ProductsComponent implements OnInit {
  // products!: [] ;
  simpleProducts = [] ;
  complexProducts = [] ;
  homeProducts:any[] = [];
  idCilck:number = 0;
  
  showProduct(index: number){
    
    this.idCilck = this.homeProducts[index-1].id ;   
    this.router.navigate(['/products/', { id: this.idCilck }]);
  }



  constructor(_ProductsService: ProductsService, private route: ActivatedRoute, private router: Router) { 
    _ProductsService.getProducts().subscribe((response: any) => {
      this.homeProducts = response;
     
     //  localStorage.setItem("products", JSON.stringify(this.products));
      this.homeProducts.forEach((product: any) => {
       if(!product.imageUrl)
       {
         product.imageUrl = 'data:image/jpeg;base64,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' ;

       }
       if (product.category === "complex")
       {
         this.complexProducts.push(product as never);
         
       }
       if (product.category === "simple")
       {
         this.simpleProducts.push(product as never);
       }
      })
      localStorage.setItem("simpleProducts", JSON.stringify(this.simpleProducts));
      localStorage.setItem("complexProducts", JSON.stringify(this.complexProducts));
      localStorage.setItem("products", JSON.stringify(this.homeProducts));
   });
  }

  ngOnInit(): void {
    
    this.homeProducts = JSON.parse(localStorage.getItem('products') as string);

  }

}
